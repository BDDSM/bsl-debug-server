package com.github.yukon39.bsl.debugserver.context.managers;


import org.junit.jupiter.api.Test;

public class SourceManagerTest {

    @Test
    void testSourceXMLConfiguration() {

//        // given
//        File srcPath = new File("src/test/resources/src/cf/xml");
//        var sourceManager = new SourceManager();
//        sourceManager.setConfigurationSource(srcPath.toPath().toAbsolutePath());
//        var moduleId = BSLModuleIdInternalTest.createTestObjectCatalogManagerModule();
//
//        // when
//        var sourceContext = sourceManager.getSourceContext("Catalogs/Справочник1/Ext/ManagerModule.bsl");
//
//        // then
//        var source = sourceContext.getSource();
//        assertThat(source.getName()).isEqualTo("ManagerModule.bsl");
//        assertThat(sourceContext.getModuleId()).isEqualTo(moduleId);
//
//        // when
//        var sourceContextModuleId = sourceManager.getSourceContext(moduleId);
//
//        // then
//        assertThat(sourceContextModuleId).isEqualTo(sourceContext);
    }

    @Test
    void testSourceEDTConfiguration() {

//        // given
//        File srcPath = new File("src/test/resources/src/cf/edt");
//        var sourceManager = new SourceManager();
//        sourceManager.setConfigurationSource(srcPath.toPath().toAbsolutePath());
//        var moduleId = BSLModuleIdInternalTest.createTestObjectCatalogManagerModule();
//
//        // when
//        var sourceContext = sourceManager.getSourceContext("src/Catalogs/Справочник1/ManagerModule.bsl");
//
//        // then
//        var source = sourceContext.getSource();
//        assertThat(source.getName()).isEqualTo("ManagerModule.bsl");
//        assertThat(sourceContext.getModuleId()).isEqualTo(moduleId);
//
//        // when
//        var sourceContextModuleId = sourceManager.getSourceContext(moduleId);
//
//        // then
//        assertThat(sourceContextModuleId).isEqualTo(sourceContext);
      }
}
